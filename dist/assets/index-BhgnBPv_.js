(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function c(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(t){if(t.ep)return;t.ep=!0;const s=c(t);fetch(t.href,s)}})();let d=document.getElementById("movie");class u{constructor(e){this.apiUrl=e,this.data=null}async fetchMovieData(){try{const e=await fetch(this.apiUrl);if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);this.data=await e.json(),console.log("Movie data fetched successfully:",this.data),this.addMoviesToSelect()}catch(e){console.error("Failed to fetch movie data:",e)}}addMoviesToSelect(){this.data.forEach(e=>{const c=a(e.Title,e.Year,e.Price);d.appendChild(c)})}getMovieData(){return this.data}}function a(o,e,c){let r=document.createElement("option");return r.value=c,r.innerHTML=`${o} (${e}) ${c} kr`,r}const f=new u("https://gist.githubusercontent.com/aspcodenet/32a21ce9d8b8ccf19108a8a02883e9bb/raw/785f9bcb1527cb01e182d3fe40ffafd6fd00dac9/movies.json");f.fetchMovieData();function l(){const o=document.getElementById("movie");if(o.selectedIndex===-1){console.error("No movie selected.");return}const e=i(),c=o.options[o.selectedIndex].value,r=parseFloat(c);if(isNaN(r)){console.error("Invalid price selected.");return}const t=e*r;document.getElementById("total").textContent=t}const m=document.querySelectorAll(".seat");function h(){m.forEach(o=>{o.addEventListener("click",function(){o.classList.toggle("selected"),i(),l()})})}function i(){let e=document.getElementsByClassName("selected").length;return e===1?e=0:e>1&&(e-=1),document.getElementById("count").textContent=e,e}i();h();a();l();
